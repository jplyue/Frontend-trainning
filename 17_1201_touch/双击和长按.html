<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>双击和长按</title>
	<meta name="viewport" content="width=device-width,user-scalable=no">
	<style>
		
	</style>
	<script src="lib/jquery.min.js"></script>
	<script>
		window.onload = function(){
			let oBtn = document.getElementById('btn1');

			let t = 0;

			let lastTap = 0; 

			let timer = null;

			oBtn.addEventListener('touchstart', function(){
				t = new Date().getTime();


				timer = setTimeout(function(){
					console.log('long tap')
				}, 1500);
			}, false);

			oBtn.addEventListener('touchend', function(){
				clearTimeout(timer);
				//按下去-抬起=一次click
				if(Date.now()-t <= 700){// <=700 算做一次点击
					console.log('tap');

					if(Date.now()- lastTap <= 300){
						console.log('dbtap');
					}

					lastTap = Date.now();
				}else{
					console.log('long tap')
				}
			}, false);
		}
	</script>
</head>
<body>
	<!-- dbclick 在移动端无法直接使用 -->
	<input type="button" value="按钮" ondbclick="alert('a')" id="btn1">	
</body>
</html>